<div class="container">
  <h1 class="pb-4">Explore Categories</h1>

  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="/">Home</a></li>
      <li class="breadcrumb-item"><a href="/categories">Categories</a></li>
      <li class="breadcrumb-item active" aria-current="page">Explore Categories</li>
    </ol>
  </nav>

  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-5 g-2 g-lg-3 mb-4">
    <% if(typeof categories !== 'undefined' && categories.length > 0) { %>
      <% categories.forEach(function(category, index) { %>
        <div class="col">
          <a href="/categories/<%- category.name %>" class="text-center category_link">
            <div class="category_img shadow mb-0 ">
              <img src="/img/<%- category.image %>" alt="<%- category.name %>" loading="lazy" class="img-fluid">
            </div>
            <div class="pt-1"><%- category.name %></div>
          </a>
        </div>
      <% }) %>
    <% } %>
  </div>

  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-2 g-lg-3 img-fixed mx-5">
    <% if(typeof categoryById !== 'undefined' && categoryById.length > 0) { %>
      <% categoryById.forEach(function(recipe, index){ %>
        
          <a href="/recipe/<%= recipe._id %>" class="text-center category_link mx-5">
            <div class="category_img category_img--large shadow mb-0 ">
              <img src="/upload/<%= recipe.image %>" alt="<%= recipe.name %>" loading="lazy" class="img-fluid">
            </div>
            <div class="pt-1"><%= recipe.name %></div>
          </a>
    
      <% }) %>
    <% } else { %>
      <div class="col">
        <p>
          <pre>Ingredients:

          8 oz (225g) spaghetti
          2 tbsp olive oil
          3 cloves garlic, minced
          1 small onion, finely chopped
          1 can (14 oz/400g) crushed tomatoes
          1 tsp dried oregano
          1 tsp dried basil
          1/2 tsp salt
          1/4 tsp black pepper
          Pinch of red pepper flakes (optional)
          Fresh basil leaves, for garnish (optional)
          Grated Parmesan cheese, for serving (optional)
          </pre>
          Instructions:
          
          Cook spaghetti according to package instructions until al dente. Drain and set aside.
          Heat olive oil in a skillet over medium heat. Add garlic and onion, cook until softened.
          Stir in crushed tomatoes, oregano, basil, salt, pepper, and red pepper flakes. Simmer for 15-20 minutes.
          Add cooked spaghetti to the sauce, toss until coated.
          Serve hot, garnish with fresh basil leaves and Parmesan cheese if desired. Enjoy!</p>
      </div>
    <% } %>
  </div>
</div>
